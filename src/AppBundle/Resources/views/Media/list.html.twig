{% extends '::base.html.twig' %}

{% block title %}Liste des médias{% endblock %}

{% block body -%}

    <h1>Liste des média</h1>

    <table class="records_list table table-hover" data-height="299" data-sort-name="name" data-sort-order="id">
        <thead>
            <tr>
                <th data-field="name" data-align="right" data-sortable="true">Nom</th>
                <th data-field="path" data-align="right" data-sortable="true">Catégorie</th>
                <th data-field="path" data-align="right" data-sortable="true">Type de fichier</th>
                <th data-field="path" data-align="right" data-sortable="true">Auteur</th>
                <th data-field="isPublished" data-align="right" data-sortable="true">Publié</th>
                <th data-field="creation_date" data-align="right" data-sortable="true">Date de création</th>
                <th data-field="mark" data-align="right" data-sortable="true">Note</th>
                <th data-field="voir" data-align="center" data-sortable="false">Voir</th>
            </tr>
        </thead>
        <tbody>
            {% for entity in entities %}
                <tr>
                    <td><a href="{{ path('document_show', { 'slug': entity.slug }) }}">{{ entity.name }}</a></td>
                    <td>{{ entity.category.name }}</td>
                    <td>{{ entity.type.name }}</td>
                    <td>{{ entity.owner.username }}</td>
                    <td>
                        {% if entity.isPublished == false %} Non {% else %}Oui{% endif %}
                    </td>
                    <td>{% if entity.creationdate %}{{ entity.creationdate|date('Y-m-d') }}{% endif %}</td>
                    <td>{% if entity.updatedate %}{{ entity.updatedate|date('Y-m-d H:i:s') }}{% endif %}</td>
                    <td>{{ entity.mark }}</td>
                    <td style='min-width: 132px'>
                        <a href="{{ path('document_show', { 'slug': entity.slug }) }}">Voir</a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    {{ knp_pagination_render(entities) }}

    {% endblock %}