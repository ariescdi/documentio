{% extends '::base_admin.html.twig' %}
{% block h1 -%}
    <h1>Media</h1>
{% endblock %}
{% block body -%}
    <table class="record_properties table table-hover" data-height="299" data-sort-name="name" data-sort-order="id">
        <tbody>
            <tr>
                <th data-field="id" data-align="right" data-sortable="true">Id</th>
                <td>{{ entity.id }}</td>
            </tr>
            <tr>
                <th data-field="name" data-align="right" data-sortable="true">Nom</th>
                <td>{{ entity.name }}</td>
            </tr>
            <tr>
                <th data-field="slug" data-align="right" data-sortable="true">Url</th>
                <td>{{ entity.slug }}</td>
            </tr>
            <tr>
                <th data-field="comment" data-align="right" data-sortable="true">Despcrition</th>
                <td>{{ entity.comment }}</td>
            </tr>
            <tr>
                <th data-field="path" data-align="right" data-sortable="true">Chemin</th>
                <td>{{ entity.path }}</td>
            </tr>
            <tr>
                <th data-field="creation_date" data-align="right" data-sortable="true">Date de création</th>
                <td>{{ entity.creationdate|date('Y-m-d ') }}</td>
            </tr>
            <tr>
                <th data-field="update_date" data-align="right" data-sortable="true">Date de modification</th>
                <td>{{ entity.updatedate|date('Y-m-d H:i:s') }}</td>
            </tr>
            <tr>
                <th data-field="mark" data-align="right" data-sortable="true">Note</th>
                <td>{{ entity.mark }}</td>
            </tr>

            <tr>
                <th data-field="isPublished" data-align="right" data-sortable="true">Publié</th>
                <td>
                    {% if entity.isPublished == false %} Non {% else %}Oui{% endif %}
                </td>
            </tr>
        </tbody>
    </table>
    <div class="btn-toolbar">
        <div class="btn-group">
            {% if user_id == owner_id or is_granted('ROLE_ADMIN') %}
            <div class="btn btn-default">
                <a href="{{ path('media_edit', { 'id': entity.id }) }}">
                    <i class="glyphicon glyphicon-edit"></i> Editer
                </a>
            </div>
            <div class="btn btn-default">
                <a href="{{ path('media_delete', { 'id': entity.id }) }}">
                    <i class="glyphicon glyphicon-backward"></i> Supprimer
                </a>
            </div>
            {% endif %}
            <div class="btn btn-default">
                <a href="{{ path('media') }}">
                    <i class="glyphicon glyphicon-backward"></i> Retour à la liste
                </a>
            </div>
        </div>
        <div class="btn-group">
            <div class="btn btn-default">
                <a href="{{ path('document_show', { 'slug': entity.slug }) }}">
                    <i class="glyphicon glyphicon-forward"></i> Voir le document sur le site
                </a>
            </div>
            <div class="btn btn-default">
                <a href="#" id="copyClipboard">
                    <i class="glyphicon glyphicon-link"></i> Copier l'url du document
                </a>
            </div>
        </div>
    </div>

{% endblock %}

{% block javascripts %}
        {{parent()  }}
        <script>
            $('#copyClipboard').click(function(event){
                event.preventDefault();
                prompt( "Copier le lien : Ctrl+C","{{path('document_show', { 'slug': entity.slug }) }} ");
            });


        </script>
{% endblock %}


